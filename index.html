<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>K63A10</title>
  <link rel="stylesheet" href="index.css" type="text/css">
  <style>
    a {
      color: white;
      text-decoration: none;
    }

    a:hover {
      color: white;
      text-decoration: none;
    }
  </style>
</head>

<body>
  <audio id="typing">
    <source src="images/typing.mp3" type="audio/mpeg">
  </audio>

  <audio id="stopTyping">
    <source src="images/stopTyping.mp3" type="audio/mpeg">
  </audio>

  <audio id="ting">
    <source src="images/ting.mp3" type="audio/mpeg">
  </audio>

  <a href="style.html">
    <p id="line"></p>
  </a>
  <div class="cursor"></div>
  </div>
  <script>
    //type="text/javascript">
    setTimeout(myFunction, 39500)

    function myFunction() {
      window.location.href = 'style.html'
    }
    var line = document.getElementById("line")
    var txts = ['Dear Ms.Giang',
      'This is just a little project that we have been working on together',
      'Just a little good-bye gift but a huge love from us to you',
      'It might not be the best thing you have ever seen',
      'but I am sure it will be something that you would love and cherish',
      'Now make yourself a cup of tea, sit back and enjoy...',
      'Love ðŸ’–'
    ];
    var speed = 150

    async function typewriter(txt) {
      var x = document.getElementById("typing");
      var y = document.getElementById("ting");
      x.volume = 0.6;
      y.volume = 0.6;

      for (let i = 0; i < txt.length; ++i) {
        x.play();
        line.innerHTML += txt.charAt(i);
        await delay(30)
      }
      x.pause();
      y.play();
    }

    async function reverseTypewriter(txt) {
      for (let i = txt.length; i > 0; i--) {
        var audio = document.getElementById("stopTyping");
        audio.volume = 0.6;
        audio.play();

        line.innerHTML = line.innerHTML.slice(0, -1)
        await delay(30)
      }
    }

    async function writeLoop() {

      for (let i = 0; i < txts.length; i++) {
        await typewriter(txts[i])
        await delay(2000)
        await reverseTypewriter(txts[i])
        await delay(1000)
      }

      writeLoop()
    }

    function delay(ms) {
      return new Promise((resolve) => {
        setTimeout(() => {
          resolve()
        }, ms)
      })
    }

    writeLoop()
  </script>
</body>

</html>
